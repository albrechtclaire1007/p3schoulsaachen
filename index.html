<!DOCTYPE html>
<html lang="lb">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Schoulsaachen – Drag & Drop</title>
<style>
  @font-face{
    font-family:"Schoulschrëft Bold";
    src:url("https://github.com/albrechtclaire1007/schoulschreft/raw/refs/heads/main/schoulschreft_bold%5B2%5D.TTF") format("truetype");
    font-weight:bold;font-display:swap;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:"Schoulschrëft Bold", Arial, sans-serif;
    background:linear-gradient(135deg,#cde4f5 0%,#8ab6d9 50%,#4f7ca0 100%);
    height:100vh; display:grid; place-items:center; overflow:hidden;
  }
  /* 16:9 stage that always fits without scrolling */
  .stage{
    position:relative;
    width:min(100vw, calc(100vh * 16 / 9));
    height:min(100vh, calc(100vw * 9 / 16));
    background:#ffffffaa; border-radius:16px; padding:12px;
    box-shadow:0 12px 30px rgba(0,0,0,.15); overflow:hidden;
  }
  .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
  .title{font-size:clamp(20px,3vw,34px);color:#173c57}
  .controls{display:flex;gap:8px;align-items:center}
  .pill{background:#4f7ca0;color:#fff;padding:.35rem .8rem;border-radius:999px}
  .btn{background:#8ab6d9;color:#fff;border:none;padding:.45rem .8rem;border-radius:999px;cursor:pointer}

  .game{display:grid;grid-template-rows:auto 1fr;gap:8px;height:calc(100% - 44px)}
  .word-cards{display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:6px;overflow-x:auto;padding:4px}
  .word-card{background:#fff;color:#173c57;border:2px solid #000;padding:.32rem .6rem;border-radius:14px;user-select:none;cursor:grab;font-size:clamp(12px,1.5vw,18px)}
  .word-card.dragging{opacity:.7;transform:rotate(3deg);cursor:grabbing}
  .word-card.correct-flash{background:#4f7ca0!important;color:#fff!important;animation:flash .8s ease}
  @keyframes flash{50%{transform:scale(1.06)}}

  .board{
    position:relative; border-radius:12px; flex:1;
    background:
      url("REPLACE_CLASSROOM_IMG") center/cover no-repeat,
      linear-gradient(180deg,#d7e8f6,#a8c6df);
    outline:2px dashed rgba(23,60,87,.2); /* visible even if bg fails */
  }
  .drop-zone{
    position:absolute;width:90px;height:90px;display:flex;flex-direction:column;align-items:center;justify-content:center;
    gap:.25rem;border-radius:12px;transition:.15s transform,.15s background;
  }
  .drop-zone.drag-over{background:rgba(205,228,245,.35);transform:scale(1.05)}
  .drop-zone.correct{background:rgba(79,124,160,.18)}
  .drop-zone img{max-width:60px;max-height:60px;object-fit:contain}
  .dropped-word{background:#4f7ca0;color:#fff;padding:.2rem .45rem;border-radius:8px;font-size:clamp(11px,1.2vw,15px)}

  .feedback{
    position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.9);
    background:#fff;padding:.7rem 1.1rem;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.25);
    font-size:clamp(16px,2vw,22px);font-weight:700;opacity:0;pointer-events:none;transition:.2s;border:3px solid transparent;
  }
  .feedback.show{opacity:1;transform:translate(-50%,-50%) scale(1)}
  .feedback.correct{color:#173c57;border-color:#4f7ca0}
  .feedback.incorrect{color:#b1272b;border-color:#b1272b}
</style>
</head>
<body>
  <div class="stage">
    <div class="header">
      <h1 class="title">Schoulsaachen</h1>
      <div class="controls">
        <div class="pill">Score: <span id="score">0</span></div>
        <div class="pill" id="timer" style="display:none">Zäit: <span id="time">60</span>s</div>
        <button class="btn" id="challengeBtn">60-Sekonnen</button>
      </div>
    </div>

    <div class="game">
      <div class="word-cards" id="wordContainer">
        <!-- Use straight apostrophes in data-word; accents are OK (we normalize) -->
        <div class="word-card" draggable="true" data-word="de Bläistëft">de Bläistëft</div>
        <div class="word-card" draggable="true" data-word="de Schwamp">de Schwamp</div>
        <div class="word-card" draggable="true" data-word="de Spëtzer">de Spëtzer</div>
        <div class="word-card" draggable="true" data-word="de Classeur">de Classeur</div>
        <div class="word-card" draggable="true" data-word="d'Tafel">d'Tafel</div>
        <div class="word-card" draggable="true" data-word="d'Léierin">d'Léierin</div>
        <div class="word-card" draggable="true" data-word="d'Tuschfaart">d'Tuschfaart</div>
        <div class="word-card" draggable="true" data-word="d'Kräid">d'Kräid</div>
        <div class="word-card" draggable="true" data-word="d'Blat Pabeier">d'Blat Pabeier</div>
        <div class="word-card" draggable="true" data-word="de Lineal">de Lineal</div>
        <div class="word-card" draggable="true" data-word="de Gummi">de Gummi</div>
        <div class="word-card" draggable="true" data-word="de Schoulsak">de Schoulsak</div>
        <div class="word-card" draggable="true" data-word="de Pech">de Pech</div>
        <div class="word-card" draggable="true" data-word="d'Schéier">d'Schéier</div>
        <div class="word-card" draggable="true" data-word="d'Schachtel">d'Schachtel</div>
        <div class="word-card" draggable="true" data-word="d'Bläistëftsfaarf">d'Bläistëftsfaarf</div>
        <div class="word-card" draggable="true" data-word="d'Heft">d'Heft</div>
        <div class="word-card" draggable="true" data-word="d'Buch">d'Buch</div>
      </div>

      <div class="board" id="board">
        <!-- Positions in %; adjust as you like -->
        <div class="drop-zone" data-correct="de bläistëft" style="left:20%; top:18%"><img src="https://i.postimg.cc/tnGcRqtr/6.png" alt=""></div>
        <div class="drop-zone" data-correct="de lineal" style="left:76%; top:27%"><img src="https://i.postimg.cc/14DTCFsb/14.png" alt=""></div>
        <div class="drop-zone" data-correct="de schwamp" style="left:10%; top:46%"><img src="https://i.postimg.cc/kBX024PZ/24.png" alt=""></div>
        <div class="drop-zone" data-correct="de gummi" style="left:45%; top:36%"><img src="https://i.postimg.cc/t1xQ9MG4/21.png" alt=""></div>
        <div class="drop-zone" data-correct="de spëtzer" style="left:30%; top:62%"><img src="https://i.postimg.cc/njf8rGnY/22.png" alt=""></div>
        <div class="drop-zone" data-correct="de schoulsak" style="left:80%; top:72%"><img src="https://i.postimg.cc/bdTXYnWk/23.png" alt=""></div>
        <div class="drop-zone" data-correct="de classeur" style="left:60%; top:22%"><img src="https://i.postimg.cc/LnxMDPV2/20.png" alt=""></div>
        <div class="drop-zone" data-correct="de pech" style="left:65%; top:56%"><img src="https://i.postimg.cc/vcMKpmmT/7.png" alt=""></div>
        <div class="drop-zone" data-correct="d'tafel" style="left:40%; top:11%"><img src="https://i.postimg.cc/GTLjgWhg/temp-Image-Oxa-Tk-S.avif" alt=""></div>
        <div class="drop-zone" data-correct="d'schéier" style="left:25%; top:41%"><img src="https://i.postimg.cc/HcXSNGDb/16.png" alt=""></div>
        <div class="drop-zone" data-correct="d'léierin" style="left:85%; top:31%"><img src="https://i.postimg.cc/qh0cgPnB/temp-Imagevl-Joig.avif" alt=""></div>
        <div class="drop-zone" data-correct="d'heft" style="left:50%; top:51%"><img src="https://i.postimg.cc/F1QmHNR5/17.png" alt=""></div>
        <div class="drop-zone" data-correct="d'tuschfaart" style="left:15%; top:66%"><img src="https://i.postimg.cc/xX7VDS7Z/19.png" alt=""></div>
        <div class="drop-zone" data-correct="d'bläistëftsfaarf" style="left:55%; top:76%"><img src="https://i.postimg.cc/GTRMwMdV/18.png" alt=""></div>
        <div class="drop-zone" data-correct="d'kräid" style="left:35%; top:81%"><img src="https://i.postimg.cc/fVqgtjfS/15.png" alt=""></div>
        <div class="drop-zone" data-correct="d'buch" style="left:70%; top:46%"><img src="REPLACE_BUCH_IMG" alt=""></div>
        <div class="drop-zone" data-correct="d'blat pabeier" style="left:5%; top:26%"><img src="https://i.postimg.cc/dLBfvK7B/13.png" alt=""></div>
        <div class="drop-zone" data-correct="d'schachtel" style="left:70%; top:86%"><img src="https://i.postimg.cc/LJ8b80LM/8.png" alt=""></div>
      </div>
    </div>

    <div class="feedback" id="feedback"></div>
  </div>

<script>
  let score=0, challenge=false, secs=60, timer=null, dragged=null;

  // Normalize to avoid apostrophe/diacritic mismatches
  function norm(s){
    return s
      .toLowerCase()
      .normalize("NFD").replace(/[\u0300-\u036f]/g,"")
      .replace(/[\u2019\u2018\u0060]/g,"'")   // fancy quotes → '
      .replace(/\s+/g," ")
      .trim();
  }
  const setScore=v=>document.getElementById('score').textContent=v;
  function show(msg, ok){
    const f=document.getElementById('feedback');
    f.textContent=msg; f.className='feedback '+(ok?'correct':'incorrect')+' show';
    setTimeout(()=>f.classList.remove('show'), 900);
  }
  function resetBoard(){
    document.querySelectorAll('.word-card').forEach(c=>{
      c.style.display='inline-block'; c.classList.remove('correct-flash');
    });
    document.querySelectorAll('.drop-zone').forEach(z=>{
      z.classList.remove('correct'); z.dataset.filled='0';
      const dw=z.querySelector('.dropped-word'); if(dw) dw.remove();
    });
    score=0; setScore(score);
  }
  function startChallenge(){
    if(timer) clearInterval(timer);
    challenge=true; secs=60; resetBoard();
    document.getElementById('timer').style.display='inline-block';
    document.getElementById('time').textContent=secs;
    timer=setInterval(()=>{ secs--; document.getElementById('time').textContent=secs; if(secs<=0) endChallenge(); },1000);
    show('60-Sekonnen Challenge!', true);
  }
  function endChallenge(){
    challenge=false; if(timer) clearInterval(timer);
    document.getElementById('timer').style.display='none';
    show('Fäerdeg! Score: '+score, true);
  }

  document.addEventListener('DOMContentLoaded',()=>{
    document.getElementById('challengeBtn').addEventListener('click', startChallenge);

    const cards=document.querySelectorAll('.word-card');
    const zones=document.querySelectorAll('.drop-zone');

    cards.forEach(c=>{
      c.addEventListener('dragstart',e=>{
        dragged=c; c.classList.add('dragging');
        e.dataTransfer.setData('text/plain', c.dataset.word);
        e.dataTransfer.effectAllowed='move';
      });
      c.addEventListener('dragend',()=>c.classList.remove('dragging'));
    });

    zones.forEach(z=>{
      z.dataset.filled='0';
      z.addEventListener('dragover',e=>{ e.preventDefault(); z.classList.add('drag-over'); });
      z.addEventListener('dragleave',()=> z.classList.remove('drag-over'));
      z.addEventListener('drop',e=>{
        e.preventDefault(); z.classList.remove('drag-over');
        if(!dragged) return;
        if(z.dataset.filled==='1'){ show('Dës Plaz ass schonn fäerdeg.', false); dragged=null; return; }

        const a=norm(dragged.dataset.word);
        const b=norm(z.dataset.correct);

        if(a===b){
          score++; setScore(score);
          z.classList.add('correct'); z.dataset.filled='1';
          dragged.classList.add('correct-flash'); dragged.style.display='none';
          const dw=document.createElement('div'); dw.className='dropped-word'; dw.textContent=dragged.textContent; z.appendChild(dw);
          show('Richteg!', true);

          if(document.querySelectorAll('.word-card[style*="display: none"]').length===cards.length){
            setTimeout(()=> challenge? endChallenge(): show('Alles richteg! Super!', true), 400);
          }
        }else{
          show('Probéier nach eng Kéier!', false);
        }
        dragged=null;
      });
    });
  });
</script>
</body>
</html>

